<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/ico" href="/favicon.ico"><link rel="stylesheet" href="https://cdn.vidstack.io/player.css"><meta name="generator" content="Astro v5.1.1"><title>Laurent Kempé - What&#39;s new in C# 12</title><link rel="stylesheet" href="/_astro/_slug_.BqqYG6jr.css">
<style>a[data-astro-cid-5grsw2hi]{color:#00539f}.tags[data-astro-cid-5grsw2hi]{display:flex;flex-wrap:wrap}.tag[data-astro-cid-5grsw2hi]{margin:.25em;border:dotted 1px #a1a1a1;border-radius:.5em;padding:.5em 1em;font-size:1.15em;background-color:#f8fcfd}
[data-astro-image]{width:100%;height:auto;-o-object-fit:var(--fit);object-fit:var(--fit);-o-object-position:var(--pos);object-position:var(--pos);aspect-ratio:var(--w) / var(--h)}[data-astro-image=responsive]{max-width:calc(var(--w) * 1px);max-height:calc(var(--h) * 1px)}[data-astro-image=fixed]{width:calc(var(--w) * 1px);height:calc(var(--h) * 1px)}
</style></head> <body> <header class="py-6 border-b container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl"> <nav class="container mx-auto px-4 flex flex-col sm:flex-row items-center justify-between"> <div class="text-2xl font-bold mb-4 sm:mb-0"> <a href="/">Laurent Kempé</a> </div> <div class="flex gap-6 text-gray-600"> <a href="/" class="hover:text-gray-900 ">Home</a> <a href="/blog/1" class="hover:text-gray-900 ">Blog</a> <a href="/speaking" class="hover:text-gray-900 ">Speaking</a> <a href="/about-laurent-kempe" class="hover:text-gray-900 ">About</a> </div> </nav> </header> <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">  <p data-astro-cid-5grsw2hi><em data-astro-cid-5grsw2hi></em></p> <div class="relative" data-astro-cid-5grsw2hi>  <img src="https://live.staticflickr.com/4414/37037178015_ecc08d8531_h.jpg" alt="Moʻorea, Polynésie, France" data-astro-cid-5grsw2hi="true" width="640" height="427" loading="lazy" decoding="async" class="w-full"> <div class="absolute text-white top-1/3 left-1/3 transform -translate-x-1/4 -translate-y-1/4" data-astro-cid-5grsw2hi> <p class="text-2xl sm:text-3xl md:text-5xl font-extrabold drop-shadow-[0_4px_3px_rgb(0,0,0,0.5)]" data-astro-cid-5grsw2hi>What&#39;s new in C# 12</p> <p class="py-2 text-sm sm:text-base" data-astro-cid-5grsw2hi>Nov 14, 2023</p> </div> <p class="absolute text-sm sm:text-xs text-white bottom-5 right-5" data-astro-cid-5grsw2hi>Moʻorea, Polynésie, France</p> </div> <div class="py-4" data-astro-cid-5grsw2hi>  <article class="prose prose-lg max-w-none dark:prose-invert
                    prose-h1:font-bold prose-h1:text-4xl prose-h1:mb-4
                    prose-a:text-blue-600 prose-a:no-underline
                    prose-p:text-justify prose-img:rounded-xl"> <p>C# 12 is the latest, just released, version of the popular programming language that runs on the .NET 8 platform. It introduces several new features that aim to improve the expressiveness, performance, and safety of the language. In this post, we will explore some of these features and see how they can benefit your code.</p>

<h1 id="every-day-c-12-features">Every day C# 12 features</h1>
<p>Those features might be used every day by developers adopting C# 12.</p>
<h2 id="primary-constructors">Primary constructors</h2>
<p>Primary constructors allow you to <strong>declare parameters for a class or struct in the same line as the type name</strong>. These parameters are in scope for the entire body of the type, and can be used to initialize fields, properties, or methods. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Student</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">string</span><span style="color:#B392F0"> name</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#B392F0"> score</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> string</span><span style="color:#B392F0"> Name</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> name;</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> int</span><span style="color:#B392F0"> Score</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> score;</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> Greet</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> Console.</span><span style="color:#B392F0">WriteLine</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">$&quot;Hello, {</span><span style="color:#E1E4E8">name</span><span style="color:#9ECBFF">}!&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Primary constructors were previously available for record types, which are immutable types that support value equality and deconstruction. Record types can also use positional syntax to declare primary constructor parameters and public properties in one line. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">record</span><span style="color:#B392F0"> Point</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">int</span><span style="color:#B392F0"> X</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#B392F0"> Y</span><span style="color:#E1E4E8">);</span></span></code></pre>
<div class=" bg-orange-100 border-l-4 border-orange-500 text-orange-700 rounded-lg shadow-md"> <div class="flex"> <div class="flex-none pl-2 pt-0"> <svg class="fill-current h-6 w-6 text-orange-500 mr-4 mt-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"> <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 12H9v-2h2v2zm0-4H9V6h2v4z"></path> </svg> </div> <div class="">  <p>Public properties for primary constructor parameters are generated by the compiler only in record types, which can be either record class or record struct types.</p> </div> </div> </div> <p></p>
<h2 id="collection-expressions">Collection expressions</h2>
<p>Collection expressions are a <strong>new syntax to create collections of elements</strong>, such as arrays, <code>System.Span&lt;T&gt;</code> and <code>System.ReadOnlySpan&lt;T&gt;</code>, or types supporting collection initializer like <code>List&lt;T&gt;</code>. You can use the spread operator <code>..</code> to inline other collections into a collection expression. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">int</span><span style="color:#E1E4E8">[] </span><span style="color:#B392F0">someOtherNumbers</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#B392F0">List</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">int</span><span style="color:#E1E4E8">&gt; </span><span style="color:#B392F0">numbers</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">..</span><span style="color:#E1E4E8">someOtherNumbers, </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">9</span><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">string</span><span style="color:#E1E4E8">[] </span><span style="color:#B392F0">moreFruits</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">&quot;orange&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;pear&quot;</span><span style="color:#E1E4E8">];</span></span>
<span class="line"><span style="color:#B392F0">IEnumerable</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">string</span><span style="color:#E1E4E8">&gt; </span><span style="color:#B392F0">fruits</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">&quot;apple&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;banana&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;cherry&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">..</span><span style="color:#E1E4E8">moreFruits];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">List</span><span style="color:#E1E4E8">&lt;(</span><span style="color:#F97583">string</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#E1E4E8">)&gt; </span><span style="color:#B392F0">otherScores</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [(</span><span style="color:#9ECBFF">&quot;Dave&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">90</span><span style="color:#E1E4E8">), (</span><span style="color:#9ECBFF">&quot;Bob&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">)];</span></span>
<span class="line"><span style="color:#E1E4E8">(</span><span style="color:#F97583">string</span><span style="color:#B392F0"> name</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#B392F0"> score</span><span style="color:#E1E4E8">)[] </span><span style="color:#B392F0">scores</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [(</span><span style="color:#9ECBFF">&quot;Alice&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">90</span><span style="color:#E1E4E8">), </span><span style="color:#F97583">..</span><span style="color:#E1E4E8">otherScores, (</span><span style="color:#9ECBFF">&quot;Charlie&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">70</span><span style="color:#E1E4E8">)];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Student</span><span style="color:#E1E4E8">[] </span><span style="color:#B392F0">students</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">new</span><span style="color:#B392F0"> Student</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Alice&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">90</span><span style="color:#E1E4E8">), </span><span style="color:#F97583">new</span><span style="color:#B392F0"> Student</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Bob&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">80</span><span style="color:#E1E4E8">)];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">Span</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">char</span><span style="color:#E1E4E8">&gt; </span><span style="color:#B392F0">span</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#9ECBFF">&#39;h&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;e&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;l&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;l&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;o&#39;</span><span style="color:#E1E4E8"> ];</span></span></code></pre>
<p>Collection expressions can be used anywhere you need a collection of elements, such as initializing a field, passing an argument, or returning a value.</p>
<h2 id="optional-parameters-in-lambda-expressions">Optional parameters in lambda expressions</h2>
<p>You can now <strong>define default values for parameters in lambda expressions</strong>, just like you can for methods or local functions. This can make your code more concise and flexible when using delegates or functional programming patterns. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> incrementBy</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">int</span><span style="color:#B392F0"> source</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#B392F0"> increment</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> source </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> increment;</span></span>
<span class="line"><span style="color:#E1E4E8">Console.</span><span style="color:#B392F0">WriteLine</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">incrementBy</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// prints 3</span></span>
<span class="line"><span style="color:#E1E4E8">Console.</span><span style="color:#B392F0">WriteLine</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">incrementBy</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)); </span><span style="color:#6A737D">// prints 5</span></span></code></pre>
<h2 id="alias-any-type">Alias any type</h2>
<p>You can now <strong>use the <code>using</code> directive to create aliases for any type</strong>, not just named types. This can be useful for creating semantic aliases for complex types, such as tuples, arrays, pointers, or other unsafe types. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">using</span><span style="color:#B392F0"> Point</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">int</span><span style="color:#B392F0"> X</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">int</span><span style="color:#B392F0"> Y</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">Point</span><span style="color:#B392F0"> p</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">using</span><span style="color:#B392F0"> Matrix</span><span style="color:#F97583"> =</span><span style="color:#F97583"> int</span><span style="color:#E1E4E8">[][];</span></span>
<span class="line"><span style="color:#B392F0">Matrix</span><span style="color:#B392F0"> aMatrix</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">], [</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">9</span><span style="color:#E1E4E8">]];</span></span></code></pre>
<h1 id="advanced-c-12-features">Advanced C# 12 features</h1>
<p>Those features will be used mostly in advanced scenario of C# 12.</p>
<h2 id="ref-readonly-parameters">ref readonly parameters</h2>
<p>You can now <strong>use the <code>ref readonly</code> modifier on parameters</strong> to indicate that they are passed by reference, but cannot be modified. This can improve the performance of your code by avoiding unnecessary copying, and also enforce the immutability of the arguments. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> one</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> two</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 2</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> max</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Max</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">ref</span><span style="color:#E1E4E8"> one, </span><span style="color:#F97583">ref</span><span style="color:#E1E4E8"> two);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">static</span><span style="color:#F97583"> ref</span><span style="color:#F97583"> readonly</span><span style="color:#F97583"> int</span><span style="color:#B392F0"> Max</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">ref</span><span style="color:#F97583"> readonly</span><span style="color:#B392F0"> int</span><span style="color:#E1E4E8"> x, </span><span style="color:#F97583">ref</span><span style="color:#F97583"> readonly</span><span style="color:#B392F0"> int</span><span style="color:#E1E4E8"> y) </span></span>
<span class="line"><span style="color:#F97583">    =&gt;</span><span style="color:#F97583"> ref</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8"> y </span><span style="color:#F97583">?</span><span style="color:#F97583"> ref</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">:</span><span style="color:#F97583"> ref</span><span style="color:#E1E4E8"> y;</span></span></code></pre>
<h2 id="inline-arrays">Inline arrays</h2>
<p>Inline arrays are a way to <strong>create an array of fixed size in a struct type, without using unsafe code</strong> or fixed size buffers. Inline arrays can improve the performance of your code by reducing allocations and copying. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#6A737D">// Indicates that the instance&#39;s storage is sequentially replicated Length times.</span></span>
<span class="line"><span style="color:#E1E4E8">[</span><span style="color:#B392F0">System</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Runtime</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">CompilerServices</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">InlineArray</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">5</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">public</span><span style="color:#F97583"> struct</span><span style="color:#B392F0"> Buffer</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    private</span><span style="color:#F97583"> int</span><span style="color:#B392F0"> _element0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> buffer</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Buffer</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">int</span><span style="color:#B392F0"> i</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">; i </span><span style="color:#F97583">&lt;</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">; i</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">    buffer[i] </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> i;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Inline arrays are mainly used by the runtime team and other library authors to implement types such as <code>Span&lt;T&gt;</code> or <code>ReadOnlySpan&lt;T&gt;</code>, which are used to represent slices of memory.</p>
<h1 id="experimental-attribute">Experimental attribute</h1>
<p>You can now <strong>mark types, methods, or assemblies with the <code>ExperimentalAttribute</code> to indicate that they are experimental features</strong> that may change or be removed in the future. The compiler will issue a warning if you access a member that is marked with this attribute. For example:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#E1E4E8">[</span><span style="color:#B392F0">Experimental</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Foo</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#B392F0">Experimental</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> Bar</span><span style="color:#E1E4E8">() { }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Program</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    static</span><span style="color:#F97583"> void</span><span style="color:#B392F0"> Main</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#F97583">        var</span><span style="color:#B392F0"> foo</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Foo</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// warning: &#39;Foo&#39; is experimental</span></span>
<span class="line"><span style="color:#E1E4E8">        foo.</span><span style="color:#B392F0">Bar</span><span style="color:#E1E4E8">(); </span><span style="color:#6A737D">// warning: &#39;Foo.Bar()&#39; is experimental</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h1 id="interceptors">Interceptors</h1>
<p>Interceptors are an experimental feature that <strong>allow you to substitute a call to a method with a call to another method at compile time</strong>. This can be useful for modifying the semantics of existing code by adding new code to a compilation, for example in a source generator.</p>
<p>To use interceptors, you need to enable the <code>InterceptorsPreview</code> feature flag in your project file.</p>
<div class=" bg-orange-100 border-l-4 border-orange-500 text-orange-700 rounded-lg shadow-md"> <div class="flex"> <div class="flex-none pl-2 pt-0"> <svg class="fill-current h-6 w-6 text-orange-500 mr-4 mt-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"> <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 12H9v-2h2v2zm0-4H9V6h2v4z"></path> </svg> </div> <div class="">  <p>Interceptors are still in preview mode and may be subject to breaking changes or removal in a future release.</p> </div> </div> </div> <p></p>
<h1 id="conclusion">Conclusion</h1>
<p>These are the new features of C# 12 that you can start to use now. You can learn more about these features and other improvements in C# 12 by reading the official documentation or the feature specifications. Happy coding!</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-12">What’s new in C# 12</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/instance-constructors#primary-constructors">Primary constructors</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/collection-expressions">Collection expressions</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/lambda-expressions#input-parameters-of-a-lambda-expression">Optional parameters in lambda expressions</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-12.0/using-alias-types">Alias any type</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-12.0/ref-readonly-parameters">ref readonly parameters</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct#inline-arrays">Inline arrays</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-12.0/experimental-attribute">Experimental attribute</a></li>
<li><a href="https://github.com/dotnet/roslyn/blob/main/docs/features/interceptors.md">Interceptors</a></li>
</ul> </article>  </div> <div class="tags" data-astro-cid-5grsw2hi> <p class="tag" data-astro-cid-5grsw2hi><a href="/tags/C#" data-astro-cid-5grsw2hi>C#</a></p> </div>  </div> <footer class="py-8"> <div class="container mx-auto gap-4 px-4 text-sm text-gray-600 text-center"> <div>
&copy; 2025 Laurent Kempé. All rights reserved.
</div> <div>
The expressed opinions are my own and do not reflect those of my employer or any third-party entities.
</div> </div> </footer> <script src="https://cdn.vidstack.io/player.core" type="module"></script> <script src="https://cdn.vidstack.io/icons" type="module"></script> </body> </html> 