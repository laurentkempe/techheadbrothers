<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/ico" href="/favicon.ico"><meta name="generator" content="Astro v5.5.2"><link rel="alternate" type="application/rss+xml" title="Laurent Kemp√© blog" href="https://new.laurentkempe.com/atom.xml"><title>Laurent Kemp√© - Harnessing DeepSeek-R1 distilled model with .NET Aspire and Ollama locally</title><link rel="stylesheet" href="/_astro/_slug_.D_1OVwqT.css">
<style>a[data-astro-cid-5grsw2hi]{color:#00539f}.tags[data-astro-cid-5grsw2hi]{display:flex;flex-wrap:wrap}.tag[data-astro-cid-5grsw2hi]{margin:.25em;border:dotted 1px #a1a1a1;border-radius:.5em;padding:.5em 1em;font-size:1.15em;background-color:#f8fcfd}@media (prefers-color-scheme: dark){a[data-astro-cid-5grsw2hi]{color:#7fb3d5}.tag[data-astro-cid-5grsw2hi]{border-color:#5a5a5a;background-color:#2d2d2d}}body,html{margin:0;padding:0;width:100%;overflow-x:hidden}.relative[data-astro-cid-5grsw2hi]{width:100%}.absolute[data-astro-cid-5grsw2hi]{max-width:100%}
</style><style>.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}.twitter-tweet.twitter-tweet-rendered{color-scheme:normal}
</style><style>lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}
</style><style>lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube:hover>.lty-playbtn,lite-youtube .lty-playbtn:focus{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}
</style></head> <body class="bg-white dark:bg-gray-900"> <header class="py-6 border-b border-gray-200 dark:border-gray-700 container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl"> <nav class="container mx-auto px-4"> <div class="flex items-center justify-between"> <div class="text-2xl font-bold dark:text-gray-300"> <a href="/">Laurent Kemp√©</a> </div> <!-- Mobile menu button and utilities --> <div class="flex items-center gap-4 md:hidden text-gray-600 dark:text-gray-300"> <div class="flex items-center gap-4"> <a href="/atom.xml" title="RSS Feed" class="hover:text-gray-900 dark:hover:text-gray-100"> <title>RSS Feed</title> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path> </svg> </a> <theme-toggle> <button title="Dark/Light mode"></button> </theme-toggle> <script type="module">const i=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="currentColor" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="5"/>
    <g stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </g>
  </svg>`,s=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" viewBox="0 0 20 20" fill="currentColor">
    <path d="M17.293 13.293a8 8 0 11-10.586-10.586 8.003 8.003 0 0010.586 10.586z"/>
  </svg>`;class o extends HTMLElement{STORAGE_KEY="theme-preference";_darkTheme=!1;button;constructor(){if(super(),this.button=this.querySelector("button"),!this.button){console.error("Theme toggle button not found");return}const e=localStorage.getItem(this.STORAGE_KEY);e?this.darkTheme=e==="dark":this.darkTheme=window.matchMedia("(prefers-color-scheme: dark)").matches,this.button.addEventListener("click",this.toggleTheme.bind(this)),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem(this.STORAGE_KEY)||(this.darkTheme=t.matches)})}get darkTheme(){return this._darkTheme}set darkTheme(e){this._darkTheme=e,document.documentElement.classList.toggle("dark",e),this.button&&(this.button.innerHTML=e?i:s,this.button.setAttribute("aria-label",e?"Switch to light theme":"Switch to dark theme"))}toggleTheme(){this.darkTheme=!this.darkTheme,localStorage.setItem(this.STORAGE_KEY,this.darkTheme?"dark":"light")}}customElements.define("theme-toggle",o);</script> </div> <button id="mobile-menu-button" class="hover:text-gray-900 dark:hover:text-gray-100"> <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </button> </div> <!-- Desktop menu --> <div class="hidden md:flex md:items-center md:gap-6 text-gray-600 dark:text-gray-300"> <a href="/" class="hover:text-gray-900 dark:hover:text-gray-100 ">Home</a> <a href="/blog/1" class="hover:text-gray-900 dark:hover:text-gray-100 ">Blog</a> <a href="/speaking" class="hover:text-gray-900 dark:hover:text-gray-100 ">Speaking</a> <a href="/about-laurent-kempe" class="hover:text-gray-900 dark:hover:text-gray-100 ">About</a> <a href="/all-archives" title="Archives" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Archives</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path> </svg> </a> <a href="/all-tags" title="Tags" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Tags</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"></path> <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z"></path> </svg> </a> <a href="/atom.xml" title="RSS Feed" class="hover:text-gray-900 dark:hover:text-gray-100"> <title>RSS Feed</title> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path> </svg> </a> <theme-toggle> <button title="Dark/Light mode"></button> </theme-toggle>  </div> </div> <!-- Mobile menu panel --> <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4"> <div class="flex flex-col gap-4 text-gray-600 dark:text-gray-300"> <a href="/" class="hover:text-gray-900 dark:hover:text-gray-100 ">Home</a> <a href="/blog/1" class="hover:text-gray-900 dark:hover:text-gray-100 ">Blog</a> <a href="/speaking" class="hover:text-gray-900 dark:hover:text-gray-100 ">Speaking</a> <a href="/about-laurent-kempe" class="hover:text-gray-900 dark:hover:text-gray-100 ">About</a> <a href="/all-archives" title="Archives" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Archives</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path> </svg> </a> <a href="/all-tags" title="Tags" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Tags</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"></path> <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z"></path> </svg> </a> </div> </div> </nav> </header> <script type="module">const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");e?.addEventListener("click",()=>{t?.classList.toggle("hidden")});</script> <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">  <p data-astro-cid-5grsw2hi><em data-astro-cid-5grsw2hi></em></p> <div class="relative pt-1" data-astro-cid-5grsw2hi> <img src="https://live.staticflickr.com/65535/54288775875_2a5a3ffb62_h.jpg" alt="Liebvillers, France" data-astro-cid-5grsw2hi="true" width="1600" height="1067" loading="lazy" decoding="async" class="w-full"> <div class="absolute text-white top-1/3 left-1/3 transform -translate-x-1/4 -translate-y-1/4" data-astro-cid-5grsw2hi> <p class="text-2xl sm:text-3xl md:text-5xl font-extrabold drop-shadow-[0_4px_3px_rgb(0,0,0,0.5)] dark:drop-shadow-[0_4px_3px_rgb(255,255,255,0.5)]" data-astro-cid-5grsw2hi>Harnessing DeepSeek-R1 distilled model with .NET Aspire and Ollama locally</p> <p class="py-2 text-sm sm:text-base" data-astro-cid-5grsw2hi>Feb 1, 2025</p> </div> <div class="absolute bottom-5 left-5" data-astro-cid-5grsw2hi> <div class="flex gap-1 flex-wrap"><a href="/tags/dotnet-aspire" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">.NET Aspire</a><a href="/tags/ai" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">AI</a><a href="/tags/csharp" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">C#</a><a href="/tags/llm" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">LLM</a><a href="/tags/ollama" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Ollama</a><a href="/tags/slm" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">SLM</a></div> </div> <p class="absolute text-sm sm:text-xs text-white bottom-5 right-5" data-astro-cid-5grsw2hi>Liebvillers, France</p> </div><div class="py-4" data-astro-cid-5grsw2hi>  <article class="prose prose-lg max-w-none dark:prose-invert
                    prose-h1:font-bold prose-h1:text-4xl md:prose-h1:text-4xl prose-h1:text-xl prose-h1:mb-4
                    prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:no-underline
                    prose-p:text-justify prose-img:rounded-xl"> <p>In my earlier posts, I‚Äôve demonstrated how to install Ollama using the Windows installer. However, for developers, there‚Äôs a more streamlined method to set up Ollama on your machine.</p>
<p>In this blog post, we‚Äôll explore how to run DeepSeek-R1 by harnessing the capabilities of .NET Aspire alongside Ollama on your local environment.</p>

<h1 id="introduction">Introduction</h1>
<div class=" bg-orange-100 border-l-4 border-orange-500 text-orange-700 dark:bg-orange-900 dark:border-orange-700 dark:text-orange-300 rounded-lg shadow-md p-2"> <!-- Reduced padding to the container --> <div class="flex flex-col items-start"> <div class="flex-none pt-0 mb-0"> <!-- Reduced margin-bottom --> <svg class="fill-current h-6 w-6 text-orange-500 dark:text-orange-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"> <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 12H9v-2h2v2zm0-4H9V6h2v4z"></path> </svg> </div> <div class="w-full">  <p>Update: following discussion on Reddit, thx Rinecamo and LSXPRIME.
The post is using <code>DeepSeek-R1-Distill-Qwen-1.5B</code> model which is created via fine-tuning against several dense models widely used in the research community using reasoning data generated by DeepSeek-R1. The real Deepseek R1 is 671B parameters model, 404GB in size, and requires a lot of resources to run. So, it would definitely not work on my local machine.</p> </div> </div> </div> <p></p>
<p>Ollama offers a Docker image that can be seamlessly executed on your local machine. By integrating Docker with .NET Aspire, you create a robust solution for running diverse large language models (LLMs) and small language models (SLMs) efficiently. And you still can use your beefy GPU to accelerate the answer generation process.</p>
<p>This setup ensures that Ollama operates within an isolated containerized environment, providing enhanced security and consistency without the necessity of installing additional software directly on your machine.</p>
<h1 id="prerequisites">Prerequisites</h1>
<p>Before proceeding, ensure that you have the following prerequisites installed on your machine:</p>
<p></p>
<ul>
<li><a href="https://dotnet.microsoft.com/download">.NET 9 SDK</a></li>
<li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
</ul>
<h1 id="setting-up-deepseek-r1-with-net-aspire-and-ollama">Setting up DeepSeek-R1 with .NET Aspire and Ollama</h1>
<h2 id="step-1-create-a-new-net-aspire-project">Step 1: Create a new .NET Aspire project</h2>
<p>To run DeepSeek-R1 with .NET Aspire and Ollama on your machine, we will start by creating a new .NET Aspire project. Open a terminal window and run the following command to create a new .NET Aspire project:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">mkdir</span><span style="color:#9ECBFF"> DeepSeekOllamaAspire</span><span style="color:#79B8FF">\</span></span>
<span class="line"><span style="color:#E1E4E8">cd </span><span style="color:#9ECBFF">.</span><span style="color:#79B8FF">\D</span><span style="color:#9ECBFF">eepSeekOllamaAspire</span><span style="color:#79B8FF">\</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet </span><span style="color:#9ECBFF">new</span><span style="color:#9ECBFF"> aspire-starter</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF">\D</span><span style="color:#9ECBFF">eepSeekOllamaAspire.AppHost</span><span style="color:#79B8FF">\</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet </span><span style="color:#9ECBFF">add</span><span style="color:#9ECBFF"> package</span><span style="color:#9ECBFF"> CommunityToolkit.Aspire.Hosting.Ollama</span><span style="color:#9ECBFF">  //</span><span style="color:#9ECBFF"> üëàüèº</span><span style="color:#9ECBFF"> .NET</span><span style="color:#9ECBFF"> Aspire</span><span style="color:#9ECBFF"> Ollama</span><span style="color:#9ECBFF"> Hosting</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> ..</span><span style="color:#79B8FF">\D</span><span style="color:#9ECBFF">eepSeekOllamaAspire.ApiService</span><span style="color:#79B8FF">\</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet </span><span style="color:#9ECBFF">add</span><span style="color:#9ECBFF"> package</span><span style="color:#9ECBFF"> CommunityToolkit.Aspire.OllamaSharp</span><span style="color:#9ECBFF">  //</span><span style="color:#9ECBFF"> üëàüèº</span><span style="color:#9ECBFF"> .NET</span><span style="color:#9ECBFF"> Aspire</span><span style="color:#9ECBFF"> Ollama</span><span style="color:#9ECBFF"> Client</span></span></code></pre>
<h2 id="step-2-configure-net-aspire-apphost">Step 2: Configure .NET Aspire AppHost</h2>
<p>The code for the .NET Aspire AppHost is configuring the Ollama server hosting integration. It is adding the Ollama container to the app host, configuring data volume, GPU support, and container lifetime. Additionally, it adds the DeepSeek-R1 model to the Ollama server.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> builder</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> DistributedApplication.</span><span style="color:#B392F0">CreateBuilder</span><span style="color:#E1E4E8">(args);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// üëáüèº Configure Ollama server hosting integration</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> ollama</span><span style="color:#F97583"> =</span></span>
<span class="line"><span style="color:#E1E4E8">    builder.</span><span style="color:#B392F0">AddOllama</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;ollama&quot;</span><span style="color:#E1E4E8">) </span><span style="color:#6A737D">// üëàüèº Add Ollama container to the app host</span></span>
<span class="line"><span style="color:#E1E4E8">        .</span><span style="color:#B392F0">WithDataVolume</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D">// üëàüèº Adds a data volume to store models</span></span>
<span class="line"><span style="color:#E1E4E8">        .</span><span style="color:#B392F0">WithGPUSupport</span><span style="color:#E1E4E8">() </span><span style="color:#6A737D">// üëàüèº Use your beefy GPU üéâ</span></span>
<span class="line"><span style="color:#E1E4E8">        .</span><span style="color:#B392F0">WithLifetime</span><span style="color:#E1E4E8">(ContainerLifetime.Persistent); </span><span style="color:#6A737D">// üëàüèº Keep the container running</span></span>
<span class="line"><span style="color:#6A737D">                                                     //    when the app exits</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// üëáüèº Add DeepSeek-R1 model to Ollama server</span></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> chat</span><span style="color:#F97583"> =</span></span>
<span class="line"><span style="color:#E1E4E8">    ollama.</span><span style="color:#B392F0">AddModel</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;chat&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;deepseek-r1:1.5b&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> apiService</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#E1E4E8">    builder.</span><span style="color:#B392F0">AddProject</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Projects</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">DeepSeekOllamaAspire_ApiService</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#9ECBFF">&quot;apiservice&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#6A737D">           // üëáüèº Our Web API relies on Ollama chat and waits for it to start </span></span>
<span class="line"><span style="color:#E1E4E8">           .</span><span style="color:#B392F0">WithReference</span><span style="color:#E1E4E8">(chat)</span></span>
<span class="line"><span style="color:#E1E4E8">           .</span><span style="color:#B392F0">WaitFor</span><span style="color:#E1E4E8">(chat);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">builder.</span><span style="color:#B392F0">AddProject</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Projects</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">DeepSeekOllamaAspire_Web</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#9ECBFF">&quot;webfrontend&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">WithExternalHttpEndpoints</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">WithReference</span><span style="color:#E1E4E8">(apiService)</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">WaitFor</span><span style="color:#E1E4E8">(apiService);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">builder.</span><span style="color:#B392F0">Build</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">Run</span><span style="color:#E1E4E8">();</span></span></code></pre>
<h2 id="step-3-configure-net-aspire-apiservice">Step 3: Configure .NET Aspire ApiService</h2>
<p>The code for the .NET Aspire ApiService is configuring the Ollama client integration. It is adding the Ollama client to the IOC and registering it as a chat client. Then it is used to call the Ollama API to get an answer from DeepSeek-R1.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">using</span><span style="color:#B392F0"> Microsoft</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">Extensions</span><span style="color:#E1E4E8">.</span><span style="color:#B392F0">AI</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> builder</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> WebApplication.</span><span style="color:#B392F0">CreateBuilder</span><span style="color:#E1E4E8">(args);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Add service defaults &amp; Aspire client integrations.</span></span>
<span class="line"><span style="color:#E1E4E8">builder.</span><span style="color:#B392F0">AddServiceDefaults</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// üëáüèº IOC registration of OllamaSharp client as IChatClient</span></span>
<span class="line"><span style="color:#E1E4E8">builder.</span><span style="color:#B392F0">AddOllamaSharpChatClient</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;chat&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">builder.Services.</span><span style="color:#B392F0">AddProblemDetails</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">builder.Services.</span><span style="color:#B392F0">AddOpenApi</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">var</span><span style="color:#B392F0"> app</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> builder.</span><span style="color:#B392F0">Build</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">UseExceptionHandler</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (app.Environment.</span><span style="color:#B392F0">IsDevelopment</span><span style="color:#E1E4E8">())</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E1E4E8">    app.</span><span style="color:#B392F0">MapOpenApi</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// üëáüèº Web API getting IChatClient from IOC</span></span>
<span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">MapGet</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;/chat&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">IChatClient</span><span style="color:#B392F0"> chatClient</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">string</span><span style="color:#B392F0"> question</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#6A737D">    // üëáüèº Calling Ollama API to get an answer from DeepSeek-R1</span></span>
<span class="line"><span style="color:#F97583">    var</span><span style="color:#B392F0"> response</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> chatClient.</span><span style="color:#B392F0">CompleteAsync</span><span style="color:#E1E4E8">(question);</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Response</span><span style="color:#E1E4E8">(response.Message.Text </span><span style="color:#F97583">??</span><span style="color:#9ECBFF"> &quot;Failed to generate response.&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">})</span></span>
<span class="line"><span style="color:#E1E4E8">.</span><span style="color:#B392F0">WithName</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Chat&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">MapDefaultEndpoints</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">Run</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">public</span><span style="color:#F97583"> record</span><span style="color:#B392F0"> Response</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">string</span><span style="color:#B392F0"> Value</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h2 id="step-4-the-web-frontend">Step 4: The web frontend</h2>
<p>The web frontend is a simple Blazor application. It sends the question to the API service and displays the answer. It doesn‚Äôt know anything about Ollama or DeepSeek-R1. It just knows about the API service.</p>
<p>We create a ChatApiClient that uses HttpClient to call the API service. The ChatAsync method sends the question to the API service and returns the answer.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#F97583">public</span><span style="color:#F97583"> class</span><span style="color:#B392F0"> ChatApiClient</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">HttpClient</span><span style="color:#B392F0"> httpClient</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    public</span><span style="color:#F97583"> async</span><span style="color:#B392F0"> Task</span><span style="color:#E1E4E8">&lt;</span><span style="color:#F97583">string</span><span style="color:#E1E4E8">&gt; </span><span style="color:#B392F0">ChatAsync</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">string</span><span style="color:#B392F0"> question</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#B392F0">                                        CancellationToken</span><span style="color:#B392F0"> cancellationToken</span><span style="color:#F97583"> =</span><span style="color:#F97583"> default</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#F97583">        var</span><span style="color:#B392F0"> requestUri</span><span style="color:#F97583"> =</span><span style="color:#9ECBFF"> $&quot;/chat?question={</span><span style="color:#E1E4E8">question</span><span style="color:#9ECBFF">}&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">        var</span><span style="color:#B392F0"> response</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> </span></span>
<span class="line"><span style="color:#F97583">            await</span><span style="color:#E1E4E8"> httpClient.</span><span style="color:#B392F0">GetFromJsonAsync</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">Response</span><span style="color:#E1E4E8">&gt;(requestUri, cancellationToken);</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> response</span><span style="color:#F97583">?</span><span style="color:#E1E4E8">.Value </span><span style="color:#F97583">??</span><span style="color:#9ECBFF"> &quot;&quot;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">public</span><span style="color:#F97583"> record</span><span style="color:#B392F0"> Response</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">string</span><span style="color:#B392F0"> Value</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>The <code>ChatApiClient</code> is registered in the <code>Program.cs</code> file.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#E1E4E8">builder.Services.</span><span style="color:#B392F0">AddHttpClient</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">ChatApiClient</span><span style="color:#E1E4E8">&gt;(</span><span style="color:#B392F0">client</span><span style="color:#F97583"> =&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#6A737D">        // This URL uses &quot;https+http://&quot; to indicate HTTPS is preferred over HTTP.</span></span>
<span class="line"><span style="color:#6A737D">        // Learn more about service discovery scheme resolution at https://aka.ms/dotnet/sdschemes.</span></span>
<span class="line"><span style="color:#E1E4E8">        client.BaseAddress </span><span style="color:#F97583">=</span><span style="color:#F97583"> new</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;https+http://apiservice&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span></code></pre>
<p>and injected and used in the <code>Chat.razor</code> component</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="csharp"><code><span class="line"><span style="color:#E1E4E8">@page </span><span style="color:#9ECBFF">&quot;/chat&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">@attribute [</span><span style="color:#B392F0">StreamRendering</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#E1E4E8">@attribute [</span><span style="color:#B392F0">OutputCache</span><span style="color:#E1E4E8">(Duration </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 5</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">@inject ChatApiClient ChatApi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8">PageTitle</span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8">Chat</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">PageTitle</span><span style="color:#F97583">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8">h1</span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8">Chat</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">h1</span><span style="color:#F97583">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">&lt;</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8">This component demonstrates showing data loaded from a </span></span>
<span class="line"><span style="color:#E1E4E8">backend API service talking to Ollama.</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">@if</span><span style="color:#E1E4E8"> (_response </span><span style="color:#F97583">==</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    &lt;</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;&lt;</span><span style="color:#E1E4E8">em</span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8">Loading</span><span style="color:#F97583">..</span><span style="color:#E1E4E8">.</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">em</span><span style="color:#F97583">&gt;&lt;/</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#F97583">else</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#F97583">    &lt;</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;</span><span style="color:#E1E4E8">@_response</span><span style="color:#F97583">&lt;/</span><span style="color:#E1E4E8">p</span><span style="color:#F97583">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">@code {</span></span>
<span class="line"><span style="color:#E1E4E8">    private </span><span style="color:#F97583">string</span><span style="color:#E1E4E8">? </span><span style="color:#B392F0">_response</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    protected override </span><span style="color:#F97583">async</span><span style="color:#B392F0"> Task</span><span style="color:#B392F0"> OnInitializedAsync</span><span style="color:#E1E4E8">()</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#F97583">        var</span><span style="color:#B392F0"> question</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Uri.</span><span style="color:#B392F0">EscapeDataString</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;Hello, can you help me in C#?&quot;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">        _response </span><span style="color:#F97583">=</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> ChatApi.</span><span style="color:#B392F0">ChatAsync</span><span style="color:#E1E4E8">(question);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h1 id="running-the-net-aspire-project">Running the .NET Aspire project</h1>
<p>To run the .NET Aspire project, execute the following command in the terminal:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF">\D</span><span style="color:#9ECBFF">eepSeekOllamaAspire.AppHost</span><span style="color:#79B8FF">\</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet </span><span style="color:#9ECBFF">run</span></span></code></pre>
<p>The .NET Aspire project will start, and you will see the Container ‚Äúollama‚Äù starting. The OllamaModelResource ‚Äúchat‚Äù will download the DeepSeek-R1 model. When the Ollama server is ready, the ApiService will start, and the Web frontend will be available.</p>
<p><img src="/images/aspire-ollama-deepseek-r1.png" alt=".NET Aspire Ollama DeepSeek-R1"/></p>
<p>Click on the Project ‚Äúwebfrontend‚Äù link and then on the ‚ÄúChat‚Äù link to see the answer generated by DeepSeek-R1.</p>
<p><img src="/images/aspire-ollama-deepseek-r1-answer.png" alt=".NET Aspire Ollama DeepSeek-R1 answer"/></p>
<p>And with the power of .NET Aspire, you can observe the trace of the calls to the Ollama API.</p>
<p><img src="/images/aspire-ollama-deepseek-r1-trace.png" alt=".NET Aspire Ollama DeepSeek-R1 trace"/></p>
<h1 id="conclusion">Conclusion</h1>
<p>By integrating DeepSeek-R1 with .NET Aspire and Ollama, developers can leverage a robust and efficient setup for managing and deploying language models. This solution provides an easy streamlined approach to running LLM or SLM on your local machine without the need for additional software installations.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://learn.microsoft.com/en-us/dotnet/aspire/community-toolkit/ollama?tabs=dotnet-cli%2Cdocker">.NET Aspire Community Toolkit Ollama integration</a></li>
<li><a href="https://hub.docker.com/r/ollama/ollama">Ollama Docker image</a></li>
<li><a href="https://www.ollama.com/library/deepseek-r1">Ollama DeepSeek-R1 model</a></li>
<li><a href="https://devblogs.microsoft.com/dotnet/local-ai-models-with-dotnet-aspire/">Using Local AI models with .NET Aspire</a></li>
</ul>
<p>Get the source code on GitHub <a href="https://github.com/laurentkempe/aiPlayground/tree/main/DeepSeekOllamaAspire">laurentkempe/aiPlayground/DeepSeekOllamaAspire</a></p>
<div class="my-5"> <a class="block max-w-[700px] p-8 rounded-lg border border-text/5 bg-text/[0.025] transition-all duration-200 ease-in-out hover:bg-text/[0.12] hover:border-text/10 text-text dark:bg-text/[0.15] dark:border-text/20 dark:hover:bg-text/[0.25] dark:hover:border-text/30 no-underline" href="https://github.com/laurentkempe/aiPlayground" target="_blank" style="color: inherit; text-decoration: none;"> <img class="w-20 h-20 rounded-full float-right ml-8 mb-8 mt-2.5" src="https://avatars.githubusercontent.com/u/272612?v=4" alt="laurentkempe avatar"> <p class="text-[1.8rem] tracking-wide m-0"> <span>laurentkempe/</span><b>aiPlayground</b> </p> <p class="text-[0.9rem] my-2.5"> Some experiments around AI to learn. </p> <div class="flex items-center gap-16"> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">20</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Stars</span> </div> </div> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">6</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Forks</span> </div> </div> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path> <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">1</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Issues</span> </div> </div> </div> </a> </div> </article>  </div>  </div> <footer class="py-8"> <div class="container mx-auto gap-4 px-4 text-sm text-gray-600 dark:text-gray-300 text-center"> <div>
&copy; 2025 Laurent Kemp√©. All rights reserved.
</div> <div>
The expressed opinions are my own and do not reflect those of my employer or any third-party entities.
</div> </div> </footer> <script>
            const theme = (() => {
              if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
                return localStorage.getItem("theme");
              }
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                return "dark";
              }
              return "light";
            })();
          
            if (theme === "light") {
              document.documentElement.classList.remove("dark");
            } else {
              document.documentElement.classList.add("dark");
            }
            window.localStorage.setItem("theme", theme);
        </script> </body> </html> 