<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/ico" href="/favicon.ico"><link rel="stylesheet" href="https://cdn.vidstack.io/player.css"><meta name="generator" content="Astro v5.3.0"><link rel="alternate" type="application/rss+xml" title="Laurent Kempé blog" href="https://new.laurentkempe.com/atom.xml"><title>Laurent Kempé - Experimenting with .NET 7, WASM, and WASI on Docker</title><link rel="stylesheet" href="/_astro/_slug_.eJhnQ2Qd.css">
<style>a[data-astro-cid-5grsw2hi]{color:#00539f}.tags[data-astro-cid-5grsw2hi]{display:flex;flex-wrap:wrap}.tag[data-astro-cid-5grsw2hi]{margin:.25em;border:dotted 1px #a1a1a1;border-radius:.5em;padding:.5em 1em;font-size:1.15em;background-color:#f8fcfd}@media (prefers-color-scheme: dark){a[data-astro-cid-5grsw2hi]{color:#7fb3d5}.tag[data-astro-cid-5grsw2hi]{border-color:#5a5a5a;background-color:#2d2d2d}}body,html{margin:0;padding:0;width:100%;overflow-x:hidden}.relative[data-astro-cid-5grsw2hi]{width:100%}.absolute[data-astro-cid-5grsw2hi]{max-width:100%}
</style><style>.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding, 1em);border:1px solid var(--tc-border-color, #cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}.twitter-tweet.twitter-tweet-rendered{color-scheme:normal}
</style></head> <body class="bg-white dark:bg-gray-900"> <header class="py-6 border-b border-gray-200 dark:border-gray-700 container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl"> <nav class="container mx-auto px-4"> <div class="flex items-center justify-between"> <div class="text-2xl font-bold dark:text-gray-300"> <a href="/">Laurent Kempé</a> </div> <!-- Mobile menu button and utilities --> <div class="flex items-center gap-4 md:hidden text-gray-600 dark:text-gray-300"> <div class="flex items-center gap-4"> <a href="/atom.xml" title="RSS Feed" class="hover:text-gray-900 dark:hover:text-gray-100"> <title>RSS Feed</title> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path> </svg> </a> <theme-toggle> <button title="Dark/Light mode"></button> </theme-toggle> <script type="module">const i=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="currentColor" viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="5"/>
    <g stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </g>
  </svg>`,s=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" viewBox="0 0 20 20" fill="currentColor">
    <path d="M17.293 13.293a8 8 0 11-10.586-10.586 8.003 8.003 0 0010.586 10.586z"/>
  </svg>`;class o extends HTMLElement{STORAGE_KEY="theme-preference";_darkTheme=!1;button;constructor(){if(super(),this.button=this.querySelector("button"),!this.button){console.error("Theme toggle button not found");return}const e=localStorage.getItem(this.STORAGE_KEY);e?this.darkTheme=e==="dark":this.darkTheme=window.matchMedia("(prefers-color-scheme: dark)").matches,this.button.addEventListener("click",this.toggleTheme.bind(this)),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem(this.STORAGE_KEY)||(this.darkTheme=t.matches)})}get darkTheme(){return this._darkTheme}set darkTheme(e){this._darkTheme=e,document.documentElement.classList.toggle("dark",e),this.button&&(this.button.innerHTML=e?i:s,this.button.setAttribute("aria-label",e?"Switch to light theme":"Switch to dark theme"))}toggleTheme(){this.darkTheme=!this.darkTheme,localStorage.setItem(this.STORAGE_KEY,this.darkTheme?"dark":"light")}}customElements.define("theme-toggle",o);</script> </div> <button id="mobile-menu-button" class="hover:text-gray-900 dark:hover:text-gray-100"> <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </button> </div> <!-- Desktop menu --> <div class="hidden md:flex md:items-center md:gap-6 text-gray-600 dark:text-gray-300"> <a href="/" class="hover:text-gray-900 dark:hover:text-gray-100 ">Home</a> <a href="/blog/1" class="hover:text-gray-900 dark:hover:text-gray-100 ">Blog</a> <a href="/speaking" class="hover:text-gray-900 dark:hover:text-gray-100 ">Speaking</a> <a href="/about-laurent-kempe" class="hover:text-gray-900 dark:hover:text-gray-100 ">About</a> <a href="/all-archives" title="Archives" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Archives</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path> </svg> </a> <a href="/all-tags" title="Tags" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Tags</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"></path> <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z"></path> </svg> </a> <a href="/atom.xml" title="RSS Feed" class="hover:text-gray-900 dark:hover:text-gray-100"> <title>RSS Feed</title> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block align-middle" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"></path> </svg> </a> <theme-toggle> <button title="Dark/Light mode"></button> </theme-toggle>  </div> </div> <!-- Mobile menu panel --> <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4"> <div class="flex flex-col gap-4 text-gray-600 dark:text-gray-300"> <a href="/" class="hover:text-gray-900 dark:hover:text-gray-100 ">Home</a> <a href="/blog/1" class="hover:text-gray-900 dark:hover:text-gray-100 ">Blog</a> <a href="/speaking" class="hover:text-gray-900 dark:hover:text-gray-100 ">Speaking</a> <a href="/about-laurent-kempe" class="hover:text-gray-900 dark:hover:text-gray-100 ">About</a> <a href="/all-archives" title="Archives" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Archives</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path> </svg> </a> <a href="/all-tags" title="Tags" class="hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 "> <title>Tags</title> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"></path> <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z"></path> </svg> </a> </div> </div> </nav> </header> <script type="module">const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");e?.addEventListener("click",()=>{t?.classList.toggle("hidden")});</script> <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">  <p data-astro-cid-5grsw2hi><em data-astro-cid-5grsw2hi></em></p> <div class="relative pt-1" data-astro-cid-5grsw2hi> <img src="https://live.staticflickr.com/8299/7764455174_207330f8d0_h.jpg" alt="Calzarellu, Corse, France" data-astro-cid-5grsw2hi="true" width="1600" height="1067" loading="lazy" decoding="async" class="w-full"> <div class="absolute text-white top-1/3 left-1/3 transform -translate-x-1/4 -translate-y-1/4" data-astro-cid-5grsw2hi> <p class="text-2xl sm:text-3xl md:text-5xl font-extrabold drop-shadow-[0_4px_3px_rgb(0,0,0,0.5)] dark:drop-shadow-[0_4px_3px_rgb(255,255,255,0.5)]" data-astro-cid-5grsw2hi>Experimenting with .NET 7, WASM, and WASI on Docker</p> <p class="py-2 text-sm sm:text-base" data-astro-cid-5grsw2hi>Oct 31, 2022</p> </div> <div class="absolute bottom-5 left-5" data-astro-cid-5grsw2hi> <div class="flex gap-1 flex-wrap"><a href="/tags/dotnet" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">.NET</a><a href="/tags/docker" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">Docker</a><a href="/tags/wasi" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">WASI</a><a href="/tags/wasm" class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-300 rounded-full text-xs hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">WASM</a></div> </div> <p class="absolute text-sm sm:text-xs text-white bottom-5 right-5" data-astro-cid-5grsw2hi>Calzarellu, Corse, France</p> </div><div class="py-4" data-astro-cid-5grsw2hi>  <article class="prose prose-lg max-w-none dark:prose-invert
                    prose-h1:font-bold prose-h1:text-4xl md:prose-h1:text-4xl prose-h1:text-xl prose-h1:mb-4
                    prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-a:no-underline
                    prose-p:text-justify prose-img:rounded-xl"> <p>On October 24th, Docker announced the support of WASM and WASI in a new technical preview release. I wanted to try it out and see how it works with .NET 7. If you want to know more about WASM and WASI you can read the introduction from my previous post, “<a href="https://laurentkempe.com/2022/10/29/using-wasm-and-wasi-to-run-dotnet-7-on-a-raspberry-pi-zero-2-w/">Using WASM and WASI to run .NET 7 on a Raspberry PI Zero 2 W</a>”.</p>

<p>A couple of weeks ago my friend <a href="https://twitter.com/JChable">Julien Chable</a> asked me about WASM/WASI and Wasmtime. As he is a .NET developer, I explained that Wasmtime is similar to the .NET CLR, with some key differences. It runs in a sandbox environment therefore secure, starts in a few milliseconds therefore faster than containers. It allows you to write code with many languages and deploy this code on many platforms without recompiling and above all to write modules in one language and use them from another.</p>
<p>I also told him that you often read that WASI will replace containers. It might be true for some situations but not for all. I think that they will complement each other. Containers are great for running applications, but to run code something better could be built. For example, if you want to run a function that calculates the sum of two numbers, you will have to create a container with an application that will call this function. With WASM/WASI, you can create a module that will contain this function and call it from any language.</p>
<h1 id="why-docker-announcing-wasmwasi-support-is-interesting">Why Docker announcing WASM/WASI support is interesting?</h1>
<p>Docker makes developers’ life easy to bundle and run their applications.</p>
<p>Their approach toward WASM/WASI support is to leverage containerd providing the ability to use OCI-compatible artifacts and <strong>containerd shims</strong>. In our case, the interesting part is the containerd shim created in collaboration with WasmEdge.</p>
<blockquote>
<p>This shim extracts the Wasm module from the OCI artifact and runs it using the WasmEdge runtime. We added support to declare the Wasm runtime, which will enable the use of this new shim.</p>
</blockquote>
<p><img src="/images/docker-containerd-wasm-diagram.png.webp" alt="Docker support for WASM and WASI"/></p>
<p>So, as a developer you can use the <strong>same Dockerfile to build</strong> your WASM module. You can also use the <strong>same Docker commands</strong> to run your WASM module. But there is more, as we will see later.</p>
<p>You can read more about it on their blog post “<a href="https://www.docker.com/blog/docker-wasm-technical-preview/">Introducing the Docker+Wasm Technical Preview</a>”.</p>
<h1 id="docker-technical-preview">Docker technical preview</h1>
<p>To run this experiment, installing Docker technical preview release is needed. You can find the instructions on the <a href="https://docs.docker.com/desktop/wasm/">Docker+Wasm (Beta)</a>.</p>
<h1 id="building-a-net-7-console-wasm-module">Building a .NET 7 Console WASM module</h1>
<p>Beware, this is a technical preview, and things might change in the future. It is also very early for all the different parts used, and mostly a hack to try those altogether.</p>
<p>I experimented with a .NET 7 Web API but failed to make it work, so I switched to a .NET 7 Console application.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">dotnet new console </span><span style="color:#F97583">-</span><span style="color:#E1E4E8">o ConsoleWasmDocker</span></span>
<span class="line"><span style="color:#E1E4E8">cd ConsoleWasmDocker</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet add package Wasi.Sdk </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">prerelease</span></span>
<span class="line"><span style="color:#E1E4E8">dotnet build</span></span></code></pre>
<p>We end up with <code>ConsoleWasmDocker.wasm</code> in the folder <code>\bin\Debug\net7.0\</code>. We can run it with Wasmtime.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">wasmtime .\bin\Debug\net7.</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">\ConsoleWasmDocker.wasm</span></span></code></pre>
<h1 id="bundling-our-net-7-console-wasm-module-with-docker">Bundling our .NET 7 Console WASM module with Docker</h1>
<p>At first, I tried to use the multi-stage build approach with the Docker image <code>mcr.microsoft.com/dotnet/sdk:7.0</code> to build the WASM module. But it failed with a weird error.</p>
<p>So, we will use a workaround to publish the WASM module from Windows and then copy the ConsoleWasmDocker.wasm in the Docker image.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">dotnet publish </span><span style="color:#F97583">-</span><span style="color:#E1E4E8">c Release </span></span></code></pre>
<p>We define the Dockerfile.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="dockerfile"><code><span class="line"><span style="color:#F97583">FROM</span><span style="color:#E1E4E8"> scratch</span></span>
<span class="line"><span style="color:#F97583">COPY</span><span style="color:#E1E4E8"> ./bin/Release/net7.0/ConsoleWasmDocker.wasm /ConsoleWasmDocker.wasm</span></span>
<span class="line"><span style="color:#F97583">ENTRYPOINT</span><span style="color:#E1E4E8"> [ </span><span style="color:#9ECBFF">&quot;ConsoleWasmDocker.wasm&quot;</span><span style="color:#E1E4E8"> ]</span></span></code></pre>
<p>Here we see another advantage, using the <code>scratch</code> image as a base image. This image is empty. It will create a minimal Docker image. We can also use it to build a container that will run a single process. In our case, we will run our WASM module.</p>
<p>We build the Docker image.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">docker buildx build </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">platform wasi</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">wasm32 </span><span style="color:#F97583">-</span><span style="color:#E1E4E8">t consolewasmdocker .</span></span></code></pre>
<p>Now the good surprise is the size of the docker image <strong>3.63MB</strong>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">docker image list</span></span>
<span class="line"><span style="color:#E1E4E8">REPOSITORY          TAG       IMAGE ID       CREATED         SIZE</span></span>
<span class="line"><span style="color:#E1E4E8">consolewasmdocker   latest    a1d9e476ae28   </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8"> seconds ago   </span><span style="color:#79B8FF">3.63</span><span style="color:#F97583">MB</span></span></code></pre>
<h1 id="running-our-net-7-console-wasm-module-with-docker">Running our .NET 7 Console WASM module with Docker</h1>
<p>We can run our WASM module with Docker with an extended command.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="powershell"><code><span class="line"><span style="color:#E1E4E8">docker run </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">rm </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">name</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">consolewasmdocker </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">runtime</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">io.containerd.wasmedge.v1 </span><span style="color:#F97583">--</span><span style="color:#E1E4E8">platform</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">wasi</span><span style="color:#F97583">/</span><span style="color:#E1E4E8">wasm32 consolewasmdocker</span></span></code></pre>
<p>and the output</p>
<p><img src="/images/ConsoleWasmDocker.png" alt="Docker run output"/></p>
<h1 id="conclusion">Conclusion</h1>
<p>All of this is still very early and rough on the edges. Nevertheless, it is a good start and lets us envision the great potential that those technologies will bring. I am looking forward to seeing how this evolves.</p>
<p>The announcement of Docker+Wasm Technical Preview was done on October 24th, 2022. The same day, Fermyon announced “<a href="https://www.fermyon.com/blog/introducing-fermyon-cloud">Fermyon Cloud</a>”. Almost a year before,  Microsoft announced “<a href="https://azure.microsoft.com/en-us/updates/public-preview-aks-support-for-webassembly-system-interface-wasi-workloads/?WT.mc_id=DT-MVP-7749">Public preview: AKS support for WebAssembly System Interface (WASI) workloads</a>”.</p>
<p>This field is very active and I hope to see more announcements related to WASM/WASI in the .NET ecosystem during the <a href="https://www.dotnetconf.net/">.NET Conf 2022</a>.</p>
<h1 id="code">Code</h1>
<div class="my-5"> <a class="block max-w-[700px] p-8 rounded-lg border border-text/5 bg-text/[0.025] transition-all duration-200 ease-in-out hover:bg-text/[0.12] hover:border-text/10 text-text dark:bg-text/[0.15] dark:border-text/20 dark:hover:bg-text/[0.25] dark:hover:border-text/30 no-underline" href="https://github.com/laurentkempe/ConsoleWasmDocker" target="_blank" style="color: inherit; text-decoration: none;"> <img class="w-20 h-20 rounded-full float-right ml-8 mb-8 mt-2.5" src="https://avatars.githubusercontent.com/u/272612?v=4" alt="laurentkempe avatar"> <p class="text-[1.8rem] tracking-wide m-0"> <span>laurentkempe/</span><b>ConsoleWasmDocker</b> </p> <p class="text-[0.9rem] my-2.5"> Experimenting with .NET 7, WASM and WASI on Docker </p> <div class="flex items-center gap-16"> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">2</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Stars</span> </div> </div> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">0</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Forks</span> </div> </div> <div class="flex flex-row gap-2.5 justify-center"> <svg class="w-[1.1rem] h-[1.1rem] mt-1.5 text-text/70 dark:text-text/50" viewBox="0 0 16 16" fill="currentColor"> <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path> <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path> </svg> <div class="flex flex-col"> <b class="text-[1.2rem]">0</b> <span class="text-[0.8rem] opacity-70 dark:opacity-50">Issues</span> </div> </div> </div> </a> </div>
<h1 id="presentation">Presentation</h1>
<p>Build, Share, Run WebAssembly Apps Using the Docker Toolchain - Chris Crone &amp; Michael Yuan</p>
<blockquote>
<p>WebAssembly has emerged as a secure, portable, lightweight, and high performance runtime sandbox for certain types of workloads that make up cloud native apps. Chris and Michael will show how familiar Docker commands can be used to develop and share Wasm applications. Today, developers need to learn new &amp; complicated tooling for Wasm apps. By having Docker manage the Wasm runtime, existing container tooling that Cloud Native developers are familiar with can be used, and the dev ex is fast &amp; efficient. Docker can use WasmEdge as a security sandbox, side by side with Linux containers on the same dev machine or in a deployment cluster. They will cover how to <strong>create WebAssembly OCI images using buildx</strong>, how to publish the annotated image to Docker Hub, and how the enhanced Docker engine can distinguish the image and <strong>automatically run it with WasmEdge</strong>. They will demonstrate a complete demo of creating and running a Wasm-based microservice application using these Docker tools. We see this as a first step towards making Wasm as easy a target for developers as their existing platforms.</p>
</blockquote>
<media-player class="ring-media-focus aspect-video w-full overflow-hidden rounded-md bg-slate-950 font-sans text-white data-[focus]:ring-4" title="Laurent Kempé" src="youtube/3j915xoDovs" crossorigin="true" playsinline clip-start-time="0"> <media-provider> <source src="youtube/3j915xoDovs"> </media-provider> <!-- Gestures --> <media-gesture class="absolute inset-0 z-0 block h-full w-full" event="pointerup" action="toggle:paused"></media-gesture> <media-gesture class="absolute inset-0 z-0 block h-full w-full" event="dblpointerup" action="toggle:fullscreen"></media-gesture> <media-gesture class="absolute left-0 top-0 z-10 block h-full w-1/5" event="dblpointerup" action="seek:-10"></media-gesture> <media-gesture class="absolute right-0 top-0 z-10 block h-full w-1/5" event="dblpointerup" action="seek:10"></media-gesture> <!-- Captions --> <media-captions class="media-preview:opacity-0 media-controls:bottom-[85px] media-captions:opacity-100 absolute inset-0 bottom-2 z-10 select-none break-words opacity-0 transition-[opacity,bottom] duration-300"></media-captions> <!-- Controls --> <media-controls class="media-controls:opacity-100 absolute inset-0 z-10 flex h-full w-full flex-col bg-gradient-to-t from-black/10 to-transparent opacity-0 transition-opacity"> <div class="pointer-events-none flex-1"></div> <media-controls-group class="flex w-full items-center px-2"> <!-- Time Slider --> <media-time-slider class="group relative mx-[7.5px] inline-flex h-10 w-full cursor-pointer touch-none select-none items-center outline-none"> <media-slider-chapters class="relative flex h-full w-full items-center rounded-[1px]"> <template> <!-- Slider Chapter --> <div class="last-child:mr-0 relative mr-0.5 flex h-full w-full items-center rounded-[1px]" style="contain: layout style"> <!-- Slider Chapter Track --> <div class="ring-media-focus relative z-0 h-[5px] w-full rounded-sm bg-white/30 group-data-[focus]:ring-[3px]"> <div class="bg-media-brand absolute h-full w-[var(--chapter-fill)] rounded-sm will-change-[width]"></div> <div class="absolute z-10 h-full w-[var(--chapter-progress)] rounded-sm bg-white/50 will-change-[width]"></div> </div> </div> </template> </media-slider-chapters> <!-- Slider Thumb --> <div class="absolute left-[var(--slider-fill)] top-1/2 z-20 h-[15px] w-[15px] -translate-x-1/2 -translate-y-1/2 rounded-full border border-[#cacaca] bg-white opacity-0 ring-white/40 transition-opacity will-change-[left] group-data-[active]:opacity-100 group-data-[dragging]:ring-4"></div> <!-- Slider Preview --> <media-slider-preview class="pointer-events-none flex flex-col items-center opacity-0 transition-opacity duration-200 data-[visible]:opacity-100"> <media-slider-thumbnail class="block h-[var(--thumbnail-height)] max-h-[160px] min-h-[80px] w-[var(--thumbnail-width)] min-w-[120px] max-w-[180px] overflow-hidden border border-white bg-black" src="https://files.vidstack.io/sprite-fight/thumbnails.vtt"></media-slider-thumbnail> <div class="mt-1 text-sm" data-part="chapter-title"></div> <media-slider-value class="text-[13px]"></media-slider-value> </media-slider-preview> </media-time-slider> </media-controls-group> <media-controls-group class="-mt-0.5 flex w-full items-center px-2 pb-2"> <!-- Play Button --> <media-tooltip> <media-tooltip-trigger> <media-play-button class="ring-media-focus relative inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 data-[focus]:ring-4"> <media-icon class="media-paused:block hidden h-8 w-8" type="play"></media-icon> <media-icon class="media-paused:hidden h-8 w-8" type="pause"></media-icon> </media-play-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white" placement="top start" offset="30"> <span class="media-paused:block hidden">Play</span> <span class="media-paused:hidden">Pause</span> </media-tooltip-content> </media-tooltip> <!-- Mute Button --> <media-tooltip> <media-tooltip-trigger> <media-mute-button class="ring-media-focus group relative -mr-1.5 inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 data-[focus]:ring-4"> <media-icon class="hidden h-8 w-8 group-data-[state='muted']:block" type="mute"></media-icon> <media-icon class="hidden h-8 w-8 group-data-[state='low']:block" type="volume-low"></media-icon> <media-icon class="hidden h-8 w-8 group-data-[state='high']:block" type="volume-high"></media-icon> </media-mute-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white" placement="top" offset="30"> <span class="media-muted:hidden">Mute</span> <span class="media-muted:block hidden">Unmute</span> </media-tooltip-content> </media-tooltip> <!-- Volume Slider --> <media-volume-slider class="group relative mx-[7.5px] inline-flex h-10 w-full max-w-[80px] cursor-pointer touch-none select-none items-center outline-none"> <!-- Slider Track --> <div class="ring-media-focus relative z-0 h-[5px] w-full rounded-sm bg-white/30 group-data-[focus]:ring-[3px]"> <div class="bg-media-brand absolute h-full w-[var(--slider-fill)] rounded-sm will-change-[width]"></div> </div> <!-- Slider Thumb --> <div class="absolute left-[var(--slider-fill)] top-1/2 z-20 h-[15px] w-[15px] -translate-x-1/2 -translate-y-1/2 rounded-full border border-[#cacaca] bg-white opacity-0 ring-white/40 transition-opacity will-change-[left] group-data-[active]:opacity-100 group-data-[dragging]:ring-4"></div> <media-slider-preview class="pointer-events-none opacity-0 transition-opacity duration-200 data-[visible]:opacity-100" no-clamp="true" offset="30"> <media-slider-value class="rounded-sm bg-black px-2 py-px text-[13px] font-medium"></media-slider-value> </media-slider-preview> </media-volume-slider> <!-- Time Group --> <div class="ml-1.5 flex items-center text-sm font-medium"> <media-time type="current"></media-time> <div class="mx-1 text-white/80">/</div> <media-time type="duration"></media-time> </div> <span class="inline-block flex-1 overflow-hidden text-ellipsis whitespace-nowrap px-2 text-sm font-medium text-white/70"> <span class="mr-1">|</span> <media-chapter-title></media-chapter-title> </span> <!-- Caption Button --> <media-tooltip> <media-tooltip-trigger> <media-caption-button class="ring-media-focus group relative mr-0.5 inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 data-[focus]:ring-4"> <media-icon class="media-captions:block hidden h-8 w-8" type="closed-captions-on"></media-icon> <media-icon class="media-captions:hidden h-8 w-8" type="closed-captions"></media-icon> </media-caption-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white" placement="top" offset="30"> <span class="media-captions:block hidden">Closed-Captions Off</span> <span class="media-captions:hidden">Closed-Captions On</span> </media-tooltip-content> </media-tooltip> <!-- Settings Menu --> <media-menu class="group"> <!-- Settings Menu Button --> <media-tooltip> <media-tooltip-trigger> <media-menu-button class="ring-media-focus relative mr-0.5 inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 aria-hidden:hidden data-[focus]:ring-4"> <media-icon class="h-8 w-8 transform transition-transform duration-200 ease-out group-data-[open]:rotate-90" type="settings"></media-icon> </media-menu-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white group-data-[open]:hidden" placement="top" offset="30">
Settings
</media-tooltip-content> </media-tooltip> <!-- Settings Menu Items --> <media-menu-items class="animate-out fade-out slide-out-to-bottom-2 data-[open]:animate-in data-[open]:fade-in data-[open]:slide-in-from-bottom-4 flex h-[var(--menu-height)] max-h-[400px] min-w-[260px] flex-col overflow-y-auto overscroll-y-contain rounded-md border border-white/10 bg-black/95 p-2.5 font-sans text-[15px] font-medium outline-none backdrop-blur-sm transition-[height] duration-300 will-change-[height] data-[resizing]:overflow-hidden" offset="30" placement="top end"> <!-- Caption Submenu --> <media-menu> <!-- Caption Submenu Button --> <media-menu-button class="ring-media-focus parent left-0 z-10 flex w-full cursor-pointer select-none items-center justify-start rounded-sm bg-black/60 p-2.5 outline-none ring-inset aria-disabled:hidden aria-hidden:hidden data-[open]:sticky data-[open]:-top-2.5 data-[hocus]:bg-white/10 data-[focus]:ring-[3px]"> <!-- Close Icon --> <media-icon class="parent-data-[open]:block -ml-0.5 mr-1.5 hidden h-[18px] w-[18px]" type="chevron-left"></media-icon> <!-- Icon --> <media-icon class="parent-data-[open]:hidden mr-1.5 h-5 w-5" type="closed-captions"></media-icon> <!-- Label --> <span>Captions</span> <!-- Hint --> <span class="ml-auto text-sm text-white/50" data-part="hint"></span> <!-- Open Icon --> <media-icon class="parent-data-[open]:hidden ml-0.5 h-[18px] w-[18px] text-sm text-white/50" type="chevron-right"></media-icon> </media-menu-button> <!-- Caption Submenu Items --> <media-menu-items class="hidden w-full flex-col items-start justify-center outline-none data-[keyboard]:mt-[3px] data-[open]:inline-block"> <media-captions-radio-group class="flex w-full flex-col"> <template> <media-radio class="ring-media-focus group relative flex w-full cursor-pointer select-none items-center justify-start rounded-sm p-2.5 outline-none data-[hocus]:bg-white/10 data-[focus]:ring-[3px]"> <media-icon class="h-4 w-4 group-data-[checked]:hidden" type="radio-button"></media-icon> <media-icon class="text-media-brand hidden h-4 w-4 group-data-[checked]:block" type="radio-button-selected"></media-icon> <span class="ml-2" data-part="label"></span> </media-radio> </template> </media-captions-radio-group> </media-menu-items> </media-menu> </media-menu-items> </media-menu> <!-- PIP Button --> <media-tooltip> <media-tooltip-trigger> <media-pip-button class="ring-media-focus group relative mr-0.5 inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 data-[focus]:ring-4"> <media-icon class="media-pip:hidden h-8 w-8" type="picture-in-picture"></media-icon> <media-icon class="media-pip:block hidden h-8 w-8" type="picture-in-picture-exit"></media-icon> </media-pip-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white" placement="top" offset="30"> <span class="media-pip:hidden">Enter PIP</span> <span class="media-pip:block hidden">Exit PIP</span> </media-tooltip-content> </media-tooltip> <!-- Fullscreen Button --> <media-tooltip> <media-tooltip-trigger> <media-fullscreen-button class="ring-media-focus group relative inline-flex h-10 w-10 cursor-pointer items-center justify-center rounded-md outline-none ring-inset hover:bg-white/20 data-[focus]:ring-4"> <media-icon class="media-fullscreen:hidden h-8 w-8" type="fullscreen"></media-icon> <media-icon class="media-fullscreen:block hidden h-8 w-8" type="fullscreen-exit"></media-icon> </media-fullscreen-button> </media-tooltip-trigger> <media-tooltip-content class="animate-out fade-out slide-out-to-bottom-2 data-[visible]:animate-in data-[visible]:fade-in data-[visible]:slide-in-from-bottom-4 z-10 rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium text-white" placement="top end" offset="30"> <span class="media-fullscreen:hidden">Enter Fullscreen</span> <span class="media-fullscreen:block hidden">Exit Fullscreen</span> </media-tooltip-content> </media-tooltip> </media-controls-group> </media-controls> </media-player>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.docker.com/blog/docker-wasm-technical-preview/">Introducing the Docker+Wasm Technical Preview</a></li>
<li><a href="https://docs.docker.com/desktop/wasm/">Docker+Wasm (Beta)</a></li>
<li><a href="https://www.youtube.com/watch?v=3j915xoDovs&ab_channel=CNCF%5BCloudNativeComputingFoundation%5D">Build, Share, Run WebAssembly Apps Using the Docker Toolchain - Chris Crone &amp; Michael Yuan</a></li>
<li><a href="https://wasmedge.org/">WasmEdge</a></li>
<li><a href="https://www.fermyon.com/blog/introducing-fermyon-cloud">Introducing Fermyon Cloud</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/aks/use-wasi-node-pools?WT.mc_id=DT-MVP-7749">Create WebAssembly System Interface (WASI) node pools in Azure Kubernetes Service (AKS) to run your WebAssembly (WASM) workload (preview)</a></li>
</ul> </article>  </div>  </div> <footer class="py-8"> <div class="container mx-auto gap-4 px-4 text-sm text-gray-600 dark:text-gray-300 text-center"> <div>
&copy; 2025 Laurent Kempé. All rights reserved.
</div> <div>
The expressed opinions are my own and do not reflect those of my employer or any third-party entities.
</div> </div> </footer> <script>
            const theme = (() => {
              if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
                return localStorage.getItem("theme");
              }
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                return "dark";
              }
              return "light";
            })();
          
            if (theme === "light") {
              document.documentElement.classList.remove("dark");
            } else {
              document.documentElement.classList.add("dark");
            }
            window.localStorage.setItem("theme", theme);
        </script> <script src="https://cdn.vidstack.io/player.core" type="module"></script> <script src="https://cdn.vidstack.io/icons" type="module"></script> </body> </html> 